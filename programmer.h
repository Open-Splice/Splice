#pragma once
#define A PROGRAMMER_CONCAT(id, __LINE__)
#define D(...) S(A); PROGRAMMER(__VA_ARGS__)
#define PROGRAMMER(Name, ...) PROGRAMMER_DISPATCH(PROGRAMMER_NARG(__VA_ARGS__), Name, __VA_ARGS__)
#define PROGRAMMER_DISPATCH(n, Name, ...) PROGRAMMER_DISPATCH_(n, Name, __VA_ARGS__)
#define PROGRAMMER_DISPATCH_(n, Name, ...) PROGRAMMER_##n(Name, __VA_ARGS__)

#define PROGRAMMER_2(Name, v1, v2) S(Name) { o[a++] = v1, o[a++] = v2 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_4(Name, v1, v2, v3, v4) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_6(Name, v1, v2, v3, v4, v5, v6) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_8(Name, v1, v2, v3, v4, v5, v6, v7, v8) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_10(Name, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, o[a++] = v9, o[a++] = v10 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_12(Name, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, o[a++] = v9, o[a++] = v10 - cm, o[a++] = v11, o[a++] = v12 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_14(Name, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, o[a++] = v9, o[a++] = v10 - cm, o[a++] = v11, o[a++] = v12 - cm, o[a++] = v13, o[a++] = v14 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_16(Name, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, o[a++] = v9, o[a++] = v10 - cm, o[a++] = v11, o[a++] = v12 - cm, o[a++] = v13, o[a++] = v14 - cm, o[a++] = v15, o[a++] = v16 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_18(Name, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, v17, v18) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, o[a++] = v9, o[a++] = v10 - cm, o[a++] = v11, o[a++] = v12 - cm, o[a++] = v13, o[a++] = v14 - cm, o[a++] = v15, o[a++] = v16 - cm, o[a++] = v17, o[a++] = v18 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_20(Name, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, v17, v18, v19, v20) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, o[a++] = v9, o[a++] = v10 - cm, o[a++] = v11, o[a++] = v12 - cm, o[a++] = v13, o[a++] = v14 - cm, o[a++] = v15, o[a++] = v16 - cm, o[a++] = v17, o[a++] = v18 - cm, o[a++] = v19, o[a++] = v20 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_22(Name, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, v17, v18, v19, v20, v21, v22) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, o[a++] = v9, o[a++] = v10 - cm, o[a++] = v11, o[a++] = v12 - cm, o[a++] = v13, o[a++] = v14 - cm, o[a++] = v15, o[a++] = v16 - cm, o[a++] = v17, o[a++] = v18 - cm, o[a++] = v19, o[a++] = v20 - cm, o[a++] = v21, o[a++] = v22 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_24(Name, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, v17, v18, v19, v20, v21, v22, v23, v24) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, o[a++] = v9, o[a++] = v10 - cm, o[a++] = v11, o[a++] = v12 - cm, o[a++] = v13, o[a++] = v14 - cm, o[a++] = v15, o[a++] = v16 - cm, o[a++] = v17, o[a++] = v18 - cm, o[a++] = v19, o[a++] = v20 - cm, o[a++] = v21, o[a++] = v22 - cm, o[a++] = v23, o[a++] = v24 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_26(Name, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, v17, v18, v19, v20, v21, v22, v23, v24, v25, v26) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, o[a++] = v9, o[a++] = v10 - cm, o[a++] = v11, o[a++] = v12 - cm, o[a++] = v13, o[a++] = v14 - cm, o[a++] = v15, o[a++] = v16 - cm, o[a++] = v17, o[a++] = v18 - cm, o[a++] = v19, o[a++] = v20 - cm, o[a++] = v21, o[a++] = v22 - cm, o[a++] = v23, o[a++] = v24 - cm, o[a++] = v25, o[a++] = v26 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_28(Name, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, v17, v18, v19, v20, v21, v22, v23, v24, v25, v26, v27, v28) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, o[a++] = v9, o[a++] = v10 - cm, o[a++] = v11, o[a++] = v12 - cm, o[a++] = v13, o[a++] = v14 - cm, o[a++] = v15, o[a++] = v16 - cm, o[a++] = v17, o[a++] = v18 - cm, o[a++] = v19, o[a++] = v20 - cm, o[a++] = v21, o[a++] = v22 - cm, o[a++] = v23, o[a++] = v24 - cm, o[a++] = v25, o[a++] = v26 - cm, o[a++] = v27, o[a++] = v28 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_30(Name, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, v17, v18, v19, v20, v21, v22, v23, v24, v25, v26, v27, v28, v29, v30) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, o[a++] = v9, o[a++] = v10 - cm, o[a++] = v11, o[a++] = v12 - cm, o[a++] = v13, o[a++] = v14 - cm, o[a++] = v15, o[a++] = v16 - cm, o[a++] = v17, o[a++] = v18 - cm, o[a++] = v19, o[a++] = v20 - cm, o[a++] = v21, o[a++] = v22 - cm, o[a++] = v23, o[a++] = v24 - cm, o[a++] = v25, o[a++] = v26 - cm, o[a++] = v27, o[a++] = v28 - cm, o[a++] = v29, o[a++] = v30 - cm, (o[s] + cm)(C); }
#define PROGRAMMER_32(Name, v1, v2, v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, v17, v18, v19, v20, v21, v22, v23, v24, v25, v26, v27, v28, v29, v30, v31, v32) S(Name) { o[a++] = v1, o[a++] = v2 - cm, o[a++] = v3, o[a++] = v4 - cm, o[a++] = v5, o[a++] = v6 - cm, o[a++] = v7, o[a++] = v8 - cm, o[a++] = v9, o[a++] = v10 - cm, o[a++] = v11, o[a++] = v12 - cm, o[a++] = v13, o[a++] = v14 - cm, o[a++] = v15, o[a++] = v16 - cm, o[a++] = v17, o[a++] = v18 - cm, o[a++] = v19, o[a++] = v20 - cm, o[a++] = v21, o[a++] = v22 - cm, o[a++] = v23, o[a++] = v24 - cm, o[a++] = v25, o[a++] = v26 - cm, o[a++] = v27, o[a++] = v28 - cm, o[a++] = v29, o[a++] = v30 - cm, o[a++] = v31, o[a++] = v32 - cm, (o[s] + cm)(C); }

#define PROGRAMMER_NARG(...) PROGRAMMER_NARG_(__VA_ARGS__, PROGRAMMER_RSEQ_N())
#define PROGRAMMER_NARG_(...) PROGRAMMER_ARG_N(__VA_ARGS__)
#define PROGRAMMER_ARG_N(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29,_30,_31,_32,N,...) N
#define PROGRAMMER_RSEQ_N() 32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0
#define PROGRAMMER_CONCAT_IMPL(x, y) x##y
#define PROGRAMMER_CONCAT(x, y) PROGRAMMER_CONCAT_IMPL(x, y)
